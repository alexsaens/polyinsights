Here are the three specific prompts designed for Claude (Model 3.5 Sonnet or 3 Opus recommended). You can copy and paste these directly.

I have structured them to be sequential—starting with the Database (foundation), then the Logic (n8n), and finally the UI (Front-end)—so Claude has the context of the previous steps if you keep it in the same chat window (though they work independently as well).

### **Prompt 1: Database Component (Supabase)**

**Context:** You are a Senior Database Architect. I am building a "Market Insight & Report Generator" web app using Supabase as the backend.

**Goal:** Please write the SQL schema to set up the database tables.

**Requirements:**

1. **Tech Stack:** Supabase (PostgreSQL).  
2. **Tables Needed:**  
   * queries: To store the user's natural language input, a calculated "sophistication score" (integer), and timestamps.  
   * market\_data: To cache or store relevant data fetched from Polymarket (volume, odds, sentiment) related to a query.  
   * summaries: To store the intermediate 200-300 word summary generated by the AI.  
   * reports: To store the final comprehensive report content (text or JSON structure) and the status of the report (e.g., 'pending', 'completed').  
3. **Security:** Enable Row Level Security (RLS) but provide a policy for public insert/read for the MVP phase (or specify authenticated access if preferable, but keep it simple for now).  
4. **Extras:** Please include a stored procedure or trigger that automatically updates a updated\_at timestamp.

**Output:** Provide the full SQL code block that I can run in the Supabase SQL Editor.

---

### **Prompt 2: Middleware/Workflow Component (n8n)**

**Context:** You are an n8n Automation Expert. I need to design the workflow logic for the "Market Insight & Report Generator."

**Goal:** Create a detailed blueprint (or JSON structure) for an n8n workflow that handles two distinct stages.

**Stage 1: The Analysis Loop**

* **Trigger:** Webhook (POST) receiving a natural language user question.  
* **Step 1 (NLP):** Use an AI Agent/LLM node to extract "Keywords" and determine "Query Sophistication" (Low/High) from the question.  
* **Step 2 (API):** HTTP Request to the Polymarket API using the extracted keywords to fetch Volume, Odds (Yes/No), and Market Title.  
* **Step 3 (Summarizer):** AI LLM node that synthesizes the Polymarket data into a 200-300 word summary.  
* **Response:** Return the Summary and a session\_id to the front end.

**Stage 2: The Report Generation**

* **Trigger:** Webhook (POST) receiving user confirmation ("Move Forward") and the session\_id.  
* **Action:** AI LLM node generating a comprehensive, long-form HTML or Markdown report based on the previous summary and data.  
* **Response:** Return the full report text.

**Output:** Please explain the node structure I should build, including the specific system prompts I should paste into the LLM nodes for the "Keyword Extractor" and the "Summarizer."

---

### **Prompt 3: Front-End Component (Next.js)**

**Context:** You are a Senior Frontend Developer specializing in high-conversion, "flashy" marketing UIs. I am building the interface for the "Market Insight & Report Generator."

**Goal:** Write the Next.js (React) code for the main page.

**Design Aesthetic:**

* High-impact, modern, visual, and engaging (think "Linear" or "Vercel" style marketing pages).  
* Use Tailwind CSS for styling.

**Functional Requirements:**

1. **Hero Section:** A visually striking center search bar inviting the user to ask a market question.  
2. **State Management:**  
   * **State A (Idle):** The search bar.  
   * **State B (Loading):** A sleek loading animation while n8n processes.  
   * **State C (Review):** Display the 200-300 word summary returned by the API. Below it, two buttons: "Refine Query" (restarts flow) or "Generate Full Report."  
   * **State D (Final):** Render the full report with a "Download PDF" button (use html2canvas and jspdf or similar).  
3. **API Integration:** Create a simple fetch function that hits the n8n Webhook URLs (use placeholders for now).

**Output:** Provide the code for the main page.tsx and a separate components/ReportView.tsx component. Ensure the UI feels premium.

---

### **Next Step**

Would you like me to create the **Workback Schedule** we discussed to fit this into the 3-week timeline?

